<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8"/>
  <%- title = 'CoreMedia LiveContext 3 for Salesforce Commerce Cloud' -%>
  <title><%= title %></title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="robots" content="noindex, nofollow"/>
  <link rel="stylesheet" href="assets/overview.css">
</head>
<body id="top">
<div class="cm-grid container">

  <%- host = node['blueprint']['hostname'] -%>
  <%= render "overview/header-partial.erb", :cookbook => 'blueprint-proxy', :variables => { :host => host, :title => title } %>

  <%- sfcc_host = node['blueprint']['lc3-sfcc']['host'] -%>
  <div class="cm-row row">
    <div id="main" class="cm-container">
      <article class="cm-details">

        <h2>Sites</h2>
        <table>
          <thead>
          <tr>
            <th></th>
            <th>Preview</th>
            <th>Live</th>
          </tr>
          </thead>
          <tbody>
          <tr>
            <td>Salesforce Commerce Cloud</td>
            <td>
              <a href="https://<%= sfcc_host %>/s/SiteGenesisGlobal/home?preview=true" target="_blank">English</a>,
              <a href="https://<%= sfcc_host %>/s/SiteGenesisGlobal/home?preview=true&lang=fr_FR" target="_blank">French</a>
            </td>
            <td>
              <a href="https://<%= sfcc_host %>/s/SiteGenesisGlobal/home" target="_blank">English</a>,
              <a href="https://<%= sfcc_host %>/s/SiteGenesisGlobal/home?lang=fr_FR" target="_blank">French</a>
            </td>
          </tr>
          <tr>
            <td>Salesforce Commerce Cloud (Redirect)</td>
            <td>
              <a href="https://shop-preview-sitegenesis.<%= host %>" target="_blank">English</a>
            </td>
            <td>
              <a href="https://shop-sitegenesis.<%= host %>" target="_blank">English</a>
            </td>
          </tr>
          <tr>
            <td>Chef Corp. Corporate</td>
            <td>
              <a href="https://preview.<%= host %>/corporate" target="_blank">English</a>,
              <a href="https://preview.<%= host %>/corporate-de-de" target="_blank">German</a>
            </td>
            <td>
              <a href="https://corporate.<%= host %>/corporate" target="_blank">English</a>,
              <a href="https://corporate.<%= host %>/corporate-de-de" target="_blank">German</a>
            </td>
          </tr>
          </tbody>
        </table>

        <h2>Management Interfaces</h2>
        <ul>
          <li><a href="https://studio.<%= host %>" target="_blank">CoreMedia Studio</a></li>
          <li><a href="https://<%= sfcc_host %>/on/demandware.store/Sites-Site/default/ViewApplication-DisplayWelcomePage" target="_blank">Salesforce Business Manager</a></li>
        </ul>

        <%= render 'other-links',
                   :source => @other_links_source ? @other_links_source : 'overview/other-links-partial.erb',
                   :cookbook => @other_links_cookbook ? @other_links_cookbook : 'blueprint-proxy',
                   :variables => { :host => host }
        %>

        <h2>Development URLs</h2>
        <p>
          If you deployed the test system using the chef <code>development</code> environment, you will automatically get extra apache
          virtual hosts installed. These <em>candy</em> hosts provide some dev-sugar to sweeten up your daily work.
        </p>
        <p>
          A <em>candy</em> host returns the favor, i.e. it redirects the callers request to the caller itself. This allows
          the developer to start his webapps using the maven tomcat plugin and work with portless https URLs, without having
          the need to start and configure any reverse proxy such as apache or nginx.
        </p>

        <ul>
          <li><a href="https://candy-studio.<%= host %>" target="_blank">Candy Studio</a></li>
          <li><a href="https://candy-preview.<%= host %>" target="_blank">Candy Preview</a></li>
        </ul>

        <%= render "overview/candy-profiles-partial.erb", :cookbook => 'blueprint-proxy', :variables => { :host => host } %>

        <p>Enjoy!</p>
      </article>
    </div>
  </div>

  <%= render "overview/footer-partial.erb", :cookbook => 'blueprint-proxy' %>

</div>
</body>
</html>
