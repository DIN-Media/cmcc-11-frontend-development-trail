<?xml version="1.0" encoding="UTF-8"?>
<!-- this configuration is not being used, if logging is configured with chef -->
<!--
 | There are several appenders available:
 | * file
 | * console
 | * logstash-tcp logged to ${log.logstash.destination}
 | * logstash-file (json file, logged to ${log.file}-json.log
-->
<configuration scan="true" scanPeriod="30 seconds">

  <property name="log.pattern" value="%d{yyyy-MM-dd HH:mm:ss} %-7([%level]) %logger [%X{tenant}] - %message \\(%thread\\)%n" />

  <include resource="logging-common.xml"/>
  <include resource="logging-logstash.xml" optional="true"/>

  <!-- uncomment to see all View Lookups. Produces _massive_ log output(!) -->
  <!--
   | <logger name="com.coremedia.objectserver.view" additivity="false" level="debug">
   |   <appender-ref ref="${log.appender:-file}"/>
   | </logger>
   -->

  <logger name="com.coremedia" additivity="false" level="info">
    <appender-ref ref="${log.appender:-file}"/>
  </logger>

  <root level="warn">
    <appender-ref ref="${log.appender:-file}"/>
  </root>

</configuration>