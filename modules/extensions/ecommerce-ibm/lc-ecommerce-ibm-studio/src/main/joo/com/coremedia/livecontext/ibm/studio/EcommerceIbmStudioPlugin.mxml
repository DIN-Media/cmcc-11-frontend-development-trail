<?xml version="1.0" encoding="UTF-8"?>


<!-- Extend the Live Context Studio for IBM WCS -->
<editor:StudioPlugin
        xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:exml="http://www.jangaroo.net/exml/0.8"
        xmlns="exml:ext.config"
        xmlns:ui="exml:com.coremedia.ui.config"
        xmlns:editor="exml:com.coremedia.cms.editor.sdk.config"
        xmlns:livecontext="exml:com.coremedia.livecontext.ibm.studio.config"
        xmlns:lc="exml:com.coremedia.livecontext.studio.config"
        xmlns:components="com.coremedia.livecontext.ibm.studio.components.*">
  <fx:Metadata>
    [ResourceBundle('com.coremedia.icons.CoreIcons')]
    [ResourceBundle('com.coremedia.ecommerce.studio.ECommerceStudioPlugin')]
    [ResourceBundle('com.coremedia.livecontext.ibm.studio.EcommerceIbmStudioPlugin')]
  </fx:Metadata>
  <fx:Script><![CDATA[
    import com.coremedia.cms.editor.sdk.desktop.reusability.WorkAreaTabProxiesContextMenu;
    import com.coremedia.livecontext.studio.*;
    import com.coremedia.ui.skins.ButtonSkin;

    import mx.resources.ResourceManager;

    public static const xtype:String = "com.coremedia.livecontext.ibm.studio.config.ecommerceIbmStudioPlugin";

    /**
     * The itemId of the open in management center menu item.
     */
    public static const OPEN_IN_MCENTER_MENU_ITEM_ID:String = "openInManagementCenter";

    /**
     * The itemId of the open in management center button.
     */
    public static const OPEN_IN_MCENTER_BUTTON_ITEM_ID:String = "openInManagementCenter";

    private var config:EcommerceIbmStudioPlugin;

    public native function EcommerceIbmStudioPlugin(config:EcommerceIbmStudioPlugin = null);
    ]]></fx:Script>

  <editor:rules>
    <editor:ExtensionsMenuToolbar>
      <editor:plugins>
        <ui:AddItemsPlugin>
          <ui:items>
            <components:OpenManagementCenterButton itemId="openManagementCenter"/>
          </ui:items>
        </ui:AddItemsPlugin>
      </editor:plugins>
    </editor:ExtensionsMenuToolbar>

    <editor:WorkAreaTabProxiesContextMenu>
      <editor:plugins>
        <ui:AddItemsPlugin>
          <ui:items>
            <MenuSeparator/>
            <MenuItem itemId="{OPEN_IN_MCENTER_MENU_ITEM_ID}">
              <baseAction>
                <livecontext:OpenInManagementCenterAction
                        catalogObjectVariableName="{WorkAreaTabProxiesContextMenu.CONTEXT_CLICKED_TAB_ENTITY_VARIABLE_NAME}"/>
              </baseAction>
            </MenuItem>
          </ui:items>
        </ui:AddItemsPlugin>
      </editor:plugins>
    </editor:WorkAreaTabProxiesContextMenu>

    <lc:CommerceCatalogHierarchyForm>
      <lc:plugins>
        <ui:AddQuickTipPlugin
                text="{ResourceManager.getInstance().getString('com.coremedia.livecontext.ibm.studio.EcommerceIbmStudioPlugin', 'AugmentedCategory_help_categorymanagement_tooltip')}"/>
      </lc:plugins>
    </lc:CommerceCatalogHierarchyForm>
  </editor:rules>

  <editor:configuration>
    <editor:CopyResourceBundleProperties
            destination="{ResourceManager.getInstance().getResourceBundle(null, 'com.coremedia.ecommerce.studio.ECommerceStudioPlugin')}"
            source="{ResourceManager.getInstance().getResourceBundle(null, 'com.coremedia.livecontext.ibm.studio.EcommerceIbmStudioPlugin')}"/>
    <livecontext:EcommerceIbmCollectionViewActionsPlugin/>
  </editor:configuration>


</editor:StudioPlugin>
