<?xml version="1.0" encoding="UTF-8"?>
<editor:PropertyFieldGroup
        xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:exml="http://www.jangaroo.net/exml/0.8"
        xmlns="exml:ext.config"
        xmlns:ui="exml:com.coremedia.ui.config"
        xmlns:editor="exml:com.coremedia.cms.editor.sdk.config"
        title="{resourceManager.getString('com.coremedia.livecontext.studio.LivecontextStudioPlugin', 'Commerce_PropertyGroup_details_title')}">
  <fx:Metadata>
    [ResourceBundle('com.coremedia.livecontext.studio.LivecontextStudioPlugin')]
  </fx:Metadata>
  <fx:Script><![CDATA[
    import com.coremedia.cms.editor.sdk.util.RichTextPlainTextTransformer;
    import com.coremedia.ecommerce.studio.model.CatalogObjectPropertyNames;
    import com.coremedia.ui.data.ValueExpressionFactory;

    public static const xtype:String = "com.coremedia.livecontext.studio.config.commerceDetailsForm";

    public static const SHORT_DESCRIPTION_COLLAPSIBLE_ITEM_ID:String = "shortDescriptionCollapsibleItemId";

    private var config:CommerceDetailsForm;

    public native function CommerceDetailsForm(config:CommerceDetailsForm = null);
    ]]></fx:Script>
  <fx:Declarations>
    <fx:String id="titleLabel"/>
  </fx:Declarations>

    <editor:items>
      <ui:TextFieldContainer itemId="{CatalogObjectPropertyNames.NAME}"
                             fieldLabel="{config.titleLabel}"
                             propertyPath="{CatalogObjectPropertyNames.NAME}"
                             readOnly="true"/>
      <ui:TextAreaContainer itemId="{CatalogObjectPropertyNames.LONG_DESCRIPTION}"
                            fieldLabel="{resourceManager.getString('com.coremedia.livecontext.studio.LivecontextStudioPlugin', 'Commerce_description_label')}"
                            propertyValueExpression="{ValueExpressionFactory.createTransformingValueExpression(
                                                        config.bindTo.extendBy(CatalogObjectPropertyNames.LONG_DESCRIPTION),
                                                        RichTextPlainTextTransformer.convertToPlainText
                                                      )}"
                            readOnly="true"
                            initialHeight="{23*5}"/>
      <editor:PropertyFieldGroup itemId="{SHORT_DESCRIPTION_COLLAPSIBLE_ITEM_ID}"
                                 title="{resourceManager.getString('com.coremedia.livecontext.studio.LivecontextStudioPlugin', 'Commerce_shortDescription_label')}"
                                 collapsed="true">
        <editor:items>
          <ui:TextAreaContainer itemId="{CatalogObjectPropertyNames.SHORT_DESCRIPTION}"
                                hideLabel="true"
                                propertyValueExpression="{ValueExpressionFactory.createTransformingValueExpression(
                                                           config.bindTo.extendBy(CatalogObjectPropertyNames.SHORT_DESCRIPTION),
                                                           RichTextPlainTextTransformer.convertToPlainText
                                                         )}"
                                readOnly="true"/>
        </editor:items>
      </editor:PropertyFieldGroup>
    </editor:items>
  
</editor:PropertyFieldGroup>
