<?xml version="1.0" encoding="UTF-8"?>
<editor:StudioPlugin
        xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:exml="http://www.jangaroo.net/exml/0.8"
        xmlns="exml:ext.config"
        xmlns:ui="exml:com.coremedia.ui.config"
        xmlns:upload="exml:com.coremedia.blueprint.studio.config.upload"
        xmlns:editor="exml:com.coremedia.cms.editor.sdk.config">
  <fx:Script><![CDATA[
    private var config:UploadStudioPlugin;

    public native function UploadStudioPlugin(config:UploadStudioPlugin = null);
    ]]></fx:Script>

    <editor:rules>

      <editor:CollectionView>
        <editor:plugins>
          <!-- Add the upload button -->
          <upload:UploadCollectionViewPlugin/>
        </editor:plugins>
      </editor:CollectionView>

      <editor:NewContentMenuButton>
        <editor:plugins>
          <ui:NestedRulesPlugin>
            <ui:rules>
              <editor:NewContentMenu>
                <editor:plugins>
                  <ui:AddItemsPlugin>
                    <ui:items>
                      <MenuSeparator itemId="uploadSeparator"/>
                      <upload:UploadMenuItem/>
                    </ui:items>
                  </ui:AddItemsPlugin>
                </editor:plugins>
              </editor:NewContentMenu>
            </ui:rules>
          </ui:NestedRulesPlugin>
        </editor:plugins>
      </editor:NewContentMenuButton>

    </editor:rules>
  
</editor:StudioPlugin>
