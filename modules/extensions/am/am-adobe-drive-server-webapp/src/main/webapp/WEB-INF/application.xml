<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

  <import resource="classpath:com/coremedia/jmx/mbean-services.xml"/>
  <import resource="classpath:com/coremedia/cap/common/uapi-services.xml"/>

  <bean id="pictureAssetMapping" class="com.coremedia.cms.assets.drive.config.AssetTypeNameMapping">
    <property name="contentType" value="AMPictureAsset"/>
    <property name="folderPattern" value="Asset Picture {0}"/>
    <property name="filePattern" value="{0}_{1}.{2}"/>
  </bean>

  <bean id="documentAssetMapping" class="com.coremedia.cms.assets.drive.config.AssetTypeNameMapping">
    <property name="contentType" value="AMDocumentAsset"/>
    <property name="folderPattern" value="Asset Document {0}"/>
    <property name="filePattern" value="{0}_{1}.{2}"/>
  </bean>

  <bean id="updateAssetMetadataWriteInterceptor" class="com.coremedia.blueprint.assets.intercept.UpdateAssetMetadataWriteInterceptor">
    <property name="type" value="AMAsset"/>
    <property name="interceptingSubtypes" value="true"/>
    <property name="metadataProperty" value="${cm.assets.metadataProperty}"/>
    <property name="metadataSourceProperty" value="${cm.assets.metadataSourceProperty}"/>
  </bean>

  <bean id="adobeDriveServerMBeanRegistrator" class="com.coremedia.jmx.MBeanRegistrator">
    <property name="registry" ref="mbeanRegistry"/>
    <property name="mbeans">
      <map>
        <entry key="type=CapConnection" value-ref="capConnectionManager"/>
        <entry key="type=Cache" value-ref="cacheManagement"/>
        <entry key="type=Cache.Entries" value-ref="cacheBrowserManagement"/>
      </map>
    </property>
  </bean>

</beans>
