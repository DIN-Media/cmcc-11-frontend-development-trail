<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
</head>
<body>
<div data-content="title">
  Mixins? Which one?!
</div>
<div data-content="body">
When we talk about the term "mixin", it has there different meanings depending on the context:

<ul>
  <li><code><a href="#sass-mixin"><b>SASS-</b>Mixin</a>: </code>Generates CSS code</li>
  <li><code><a href="#extjs-mixin"><b>ExtJS-</b>Mixin</a>: </code>Mixes custom code into ExtJS classes</li>
  <li><code><a href="#jangaroo-mixin"><b>Jangaroo-</b>Mixin</a>:</code>Enhances the configuration of components with typed
    custom configurations
  </li>
</ul>

<a id="sass-mixin"></a>
<h2>SASS mixins</h2>
<p>see <a href="http://sass-lang.com/guide" target="_blank">http://sass-lang.com/guide</a>.</p>

<a id="extjs-mixin"></a>
<h2>ExtJS-mixins</h2>

  <p>
    Sencha provides a way to mix a custom code into ExtJS classes. This is described
    <a href="https://www.sencha.com/blog/using-plugins-and-mixins-in-your-sencha-apps/" target="_blank">here</a>.
  </p>

  <p>
    Because we are using ActionScript to describe our code in most cases and ActionScript does not have such a concept
    we needed to find a similar approach. The approach for Jangaroo is using an Interface with a special annotation
    "Mixin" which provides the implementation class that should be mixed into the class implementing the mixin.
    Because the class will not implement the mixin itself the implementation will be "native". This is also supported
    by the Jangaroo IDEA Plugin when using "Implement Methods" functionality for the class that "uses" the interface.
  </p>

  <div class="box box--left">
    <h2>ext.IMixin</h2>

    First of all, write an interface which optionally extends Ext.IMixin. The IMixin functionality is not provided in
    the current Jangaroo Version so this acts more as an indicator the this is meant to be a Mixin which can also be
    left away.

<pre style="margin-left:2%;padding: 1%;background-color: lightgray">
package com.coremedia.ui.mixins {
import ext.IMixin;
<span style="color: magenta;">[Mixin("com.coremedia.ui.mixins.OverflowBehaviourMixin")]</span>
public interface IMyMixin extends IMixin {

[Bindable]
function set myConfig(myConfig:MyConfig):void;

[Bindable]
function get myConfig():MyConfig;
}}
</pre>
    The annotation
<pre style="margin-left:2%;padding: 1%;background-color: lightgray">
<span style="color: gray;">[...]</span>
<span style="color: magenta;">[Mixin("com.coremedia.ui.mixins.OverflowBehaviourMixin")]</span>
<span style="color: gray;">[...]</span>
</pre>
    states that this interface should be handled as a mixin and the implementation class is provided as a parameter in
    the annotation

    The implementation class for <code>IMyMixin</code> could look as follows:
<pre style="margin-left:2%;padding: 1%;background-color: lightgray">
package com.coremedia.ui.mixins {
<span style="color: gray;">[...]</span>
public class MyMixin extends Mixin implements IMyMixin {

private var _myConfig:MyConfig;

/** @inheritDoc */
[Bindable]
public function get myConfig():MyConfig {
  return _myConfig;
}

/** @private */
[Bindable]
public function set myConfig(newMyConfig:MyConfig):void {
  <span style="color: gray;">[...]</span>
}
}}</pre>
  </div>


  <div class="box box--right">
    In order to use the Mixin for a component, you need the following code

<pre style="margin-left:2%;padding: 1%;background-color: lightgray">
package com.coremedia.ui.components {
<span style="color: gray;">[...]</span>
public class MyComponent implements IMyMixin {

public function MyComponent(config:MyComponent = null) {
  super(config);
  <span style="color: red;">myConfig = config.myConfig;</span>
}

/** @private */
[Bindable]
public <span style="color: green;">native</span> function get myConfig():OverflowBehaviour;

/** @inheritDoc */
[Bindable]
public <span style="color: green;">native</span> function set myConfig(myConfig:MyConfig):void;
}
}
</pre>

    As already stated after adding "implements IMyMixin" you can also use the IDEA function "Implement Methods" to
    generate the rest of the code using the Jangaroo IDEA Plugin.
  </div>

  <a id="jangaroo-mixin"></a>
  <h2>Jangaroo mixins</h2>

  <div class="box box--left">
    <p>
      Jangaroo Mixins provide a way in MXML to add typed custom configuration to a class without actually having
      the class to provide the property. This is meant to replace the approach of using the untyped namespace to define
      additional properties.
    </p>

    <p>
      For example this is being used for our BEMPlugin to attach properties to nested items of the Container that the
      plugin was attached to. This is similar to how the "flex" property of Layouts works but this now exists in the
      Component class as a "real" property.
    </p>

    <p>
      For more information about the BEMPlugin check the other chapter about its use cases or inspect the corresponding
      code documentation of the class.
    </p>
  </div>

</div>
</body>