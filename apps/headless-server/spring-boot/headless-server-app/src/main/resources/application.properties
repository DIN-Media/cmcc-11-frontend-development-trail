##################
# Security options
##################

# disable the "X-Application-Context" HTTP header in each response
management.add-application-context-header=false

# disable management security to allow unauthorized access
management.security.enabled=false


################
# Output options
################

# pretty print JSON output
caas.log-requests=false


###############################################
# Cache capacities for the CaaS cache instances
###############################################

#caas.cache-specs[richtext]=recordStats,maximumWeight=10000000


##########################################################
# Cache capacities for the CoreMedia global cache instance
##########################################################

# default size for cache keys with CacheKey#cacheClass returning the default "java.lang.Object"
# caas.cache-capacities[java.lang.Object]=20000


######################
# Response cache times
######################

# maxAge cache header for (possibly transformed) media blobs, in seconds
caas.media-cache-time=604800

#######################
# UAPI cache capacities
#######################

#repository.heapCacheSize=-1
#repository.blobCacheSize=-1
#repository.blobStreamingSizeThreshold=-1
#repository.blobStreamingThreads=-1
#repository.maxCachedBlobSize=-1
#repository.blobCachePath=


###############################################
# Settings for the image transformation service
###############################################

# set to true to enable the site specific image variants
imageTransformation.dynamicVariants = true

# the default jpeg quality used for cropping
imageTransformation.defaultJpegQuality = 0.8

# images are sharpened by default
imageTransformation.sharpen = true

# if true, the "rm" image operation will be applied to remove the image metadata
imageTransformation.removeMetadata = true

#########################################
# Settings for the transformed blob cache
#########################################

# base path for the persistent blob cache
# if not set, transformed blobs are not cached persistently
#com.coremedia.transform.blobCache.basePath=

# max allowed disk space usage
#com.coremedia.transform.blobCache.size=1000000000

spring.main.allow-bean-definition-overriding=true

################################################
# Cache capacities for the global cache instance
################################################

# default size for cache keys with CacheKey#cacheClass returning the default "java.lang.Object"
caas.cache-capacities[java.lang.Object]=5000

# set to true to enable ContextTracer
caas.context.trace.enabled=false


# monitoring
management.endpoint.metrics.enabled=true
management.endpoints.web.exposure.include=*
management.endpoint.prometheus.enabled=true
management.metrics.export.prometheus.enabled=true

########################################################################################################################
# Spring Boot Properties
########################################################################################################################

spring.application.name=headless-server-preview

spring.main.banner-mode=OFF
management.server.port=8081
# the xmpcore jar has no manifest and tomcat then gets confused which jar it should scan leading to an NPE warning
server.tomcat.additional-tld-skip-patterns=xmpcore*.jar

# Logging
logging.level.root = warn
logging.level.com.coremedia = info
logging.level.cap = info
logging.level.org.apache.tomcat = warn
logging.level.org.apache.catalina = warn


########################################################################################################################
# CoreMedia Application Properties
#
# Please refer to https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-external-config.html
# on how to configure a Spring Boot application.
#
# Properties with empty values here need to be set externally for each deployment.
########################################################################################################################

# URL of the repository IOR
repository.url=
solr.url=
caas.solr.collection=

########################################################################################################################
# Settings for preview
########################################################################################################################

# enable preview mode
caas.preview=false

# embedded GraphiQL endpoint, set to false for live server:
graphiql.enabled=false
graphiql.static.basePath=/graphiql/static/

#preview client
previewclient.url=

caas.swagger.enabled=false
caas.search.cache.seconds=5
caas.querylist.search.cache.seconds=5

######################################################
# Commerce Hub Configuration                         #
######################################################

# Activate a 'commerce.adapter.*.endpoint' property only when a commerce adapter connection is
# actually needed in local development. Activating all of these properties here by default would
# cause recurring connection attempts when the connected content server contains sides with
# commerce adapter connections activated, and the logs flooded with loads of connect exceptions).

# Mock
#commerce.adapter.mock.endpoint=localhost:44065

# Salesforce
#commerce.adapter.sfcc.endpoint=localhost:44165

# Hybris
#commerce.adapter.hybris.endpoint=localhost:44265

# IBM
#commerce.adapter.wcs.endpoint=localhost:44365

# The following properties are needed to serve Category and Product image urls via a CAE instance.
# Default initial URL prefixes for our example sites:
blueprint.site.mapping.calista=http://localhost:49080
blueprint.site.mapping.helios=http://localhost:49080
blueprint.site.mapping.corporate=http://localhost:49080


