<?xml version="1.0" encoding="UTF-8"?>
<local:FacetsChooserBase xmlns:fx="http://ns.adobe.com/mxml/2009"
                         xmlns:exml="http://www.jangaroo.net/exml/0.8"
                         xmlns="exml:ext.config"
                         xmlns:ui="exml:com.coremedia.ui.config"
                         xmlns:local="com.coremedia.ecommerce.studio.components.search.filters.*"
                         emptyText="{resourceManager.getString('com.coremedia.ecommerce.studio.ECommerceStudioPlugin', 'CollectionView_search_filter_combo_emptyText')}"
                         allowBlank="true"
                         valueField="key"
                         displayField="label"
                         encodeItems="true"
                         forceSelection="true"
                         stateful="true"
                         editable="true"
                         ariaAttributes="{{'aria-required':'false'}}"
                         stateEvents="{['select']}">
  <fx:Metadata>
    [ResourceBundle('com.coremedia.ecommerce.studio.ECommerceStudioPlugin')]
  </fx:Metadata>
  <fx:Script><![CDATA[
    public static const xtype:String = "com.coremedia.ecommerce.studio.components.search.filters.facetsChooser";

    private var config:FacetsChooser;

    public native function FacetsChooser(config:FacetsChooser = null);
    ]]></fx:Script>

  <local:plugins exml:mode="append">
    <ui:BindListPlugin bindTo="{getFacetListExpression(config)}">
      <ui:fields>
        <ui:DataField name="key" encode="false"/>
        <ui:DataField name="label" encode="false" convert="{FacetUtil.localizeFacetLabel}"/>
      </ui:fields>
    </ui:BindListPlugin>
    <ui:BindPropertyPlugin componentProperty="disabled" bindTo="{getDisabledExpression(config)}"/>
    <ui:BindPropertyPlugin componentProperty="emptyText" bindTo="{getEmptyTextExpression(config)}"/>
  </local:plugins>

</local:FacetsChooserBase>
