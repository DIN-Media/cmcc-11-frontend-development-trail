<?xml version="1.0" encoding="UTF-8"?>
<Toolbar xmlns:fx="http://ns.adobe.com/mxml/2009"
         xmlns:exml="http://www.jangaroo.net/exml/0.8"
         xmlns="exml:ext.config"
         xmlns:ui="exml:com.coremedia.ui.config"
         xmlns:editor="exml:com.coremedia.cms.editor.sdk.config"
         xmlns:u="exml:untyped"
         enableOverflow="true"
         itemId="commerceToolbar"
         ui="{ToolbarSkin.LIGHT.getSkin()}"
         ariaLabel="{resourceManager.getString('com.coremedia.ecommerce.studio.ECommerceStudioPlugin', 'CollectionView_catalogSearchToolbar_label')}"
         flex="1">
  <fx:Script><![CDATA[
    import com.coremedia.ecommerce.studio.ECommerceStudioPlugin;
    import com.coremedia.ui.data.ValueExpression;
    import com.coremedia.ui.skins.ToolbarSkin;

    [ExtConfig]
    public var selectedSearchItemsValueExpression:ValueExpression;

    public static const xtype:String = "com.coremedia.ecommerce.studio.config.catalogSearchToolbar";
    /**
     * The itemId of the first header spacer.
     */
    public static const SEARCH_TOOLBAR_SPACER_FIRST_ITEM_ID:String = "searchToolbarSpacerFirst";

    /**
     * The itemId of the second header spacer.
     */
    public static const OPEN_IN_TAB_TOOLBAR_SPACER_SECOND_ITEM_ID:String = "searchToolbarSpacerSecond";

    private var config:CatalogSearchToolbar;

    public native function CatalogSearchToolbar(config:CatalogSearchToolbar = null);
    ]]></fx:Script>

  <plugins>
    <ui:HideObsoleteSeparatorsPlugin/>
  </plugins>
  <items>

    <ui:IconButton itemId="saveSearch">
      <ui:baseAction>
        <editor:OpenSaveSearchWindowAction/>
      </ui:baseAction>
    </ui:IconButton>

    <TbSeparator itemId="{SEARCH_TOOLBAR_SPACER_FIRST_ITEM_ID}"/>

    <ui:IconButton itemId="copyToClipboard">
      <ui:baseAction>
        <editor:CopyToClipboardAction contentValueExpression="{config.selectedSearchItemsValueExpression}"/>
      </ui:baseAction>
    </ui:IconButton>

    <TbSeparator itemId="{OPEN_IN_TAB_TOOLBAR_SPACER_SECOND_ITEM_ID}" />

    <ui:IconButton itemId="{ECommerceStudioPlugin.OPEN_IN_TAB_BUTTON_ITEM_ID}">
      <ui:baseAction>
        <editor:OpenEntitiesInTabsAction entitiesValueExpression="{config.selectedSearchItemsValueExpression}"/>
      </ui:baseAction>
    </ui:IconButton>
  </items>
  <layout>
    <layout_HBox u:triggerWidth="26"/>
  </layout>

</Toolbar>
