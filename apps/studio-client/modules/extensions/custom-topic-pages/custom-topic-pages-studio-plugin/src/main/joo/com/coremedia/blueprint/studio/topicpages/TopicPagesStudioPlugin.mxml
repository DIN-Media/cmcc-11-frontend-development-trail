<?xml version="1.0" encoding="UTF-8"?>
<editor:StudioPlugin
        xmlns:fx="http://ns.adobe.com/mxml/2009"
        xmlns:exml="http://www.jangaroo.net/exml/0.8"
        xmlns="exml:ext.config"
        xmlns:ui="exml:com.coremedia.ui.config"
        xmlns:topicpages="exml:com.coremedia.blueprint.studio.topicpages.config"
        xmlns:editor="exml:com.coremedia.cms.editor.sdk.config">
  <fx:Metadata>
    [ResourceBundle('com.coremedia.blueprint.studio.topicpages.TopicPages')]
  </fx:Metadata>
  <fx:Script><![CDATA[
    import com.coremedia.cms.editor.sdk.IEditorContext;
    import com.coremedia.cms.studio.appcontext.models.apps.StudioAppsImpl;
    import com.coremedia.cms.studio.appcontext.models.apps.studioApps;

    import mx.resources.ResourceManager;

    override public function init(editorContext:IEditorContext):void {
      super.init(editorContext);

      StudioAppsImpl(studioApps).getSubAppLauncherRegistry().registerSubAppLauncher("cmTopicPages", function ():void {
        var openTopicPagesEditorAction:OpenTopicPagesEditorAction = new OpenTopicPagesEditorAction();
        openTopicPagesEditorAction.execute();
      });
    }

    public native function TopicPagesStudioPlugin(config:TopicPagesStudioPlugin = null);
    ]]></fx:Script>

  <editor:rules>

    <editor:ExtensionsMenuToolbar>
      <editor:plugins>
        <ui:AddItemsPlugin>
          <ui:items>
            <Button text="{ResourceManager.getInstance().getString('com.coremedia.blueprint.studio.topicpages.TopicPages', 'TopicPages_administration_title')}"
                    iconAlign="top"
                    itemId="btn-topicpages-editor"
                    id_="btn-topicpages-editor"
                    iconCls="{ResourceManager.getInstance().getString('com.coremedia.blueprint.studio.topicpages.TopicPages', 'TopicPages_administration_icon')}">
              <baseAction>
                <topicpages:OpenTopicPagesEditorAction/>
              </baseAction>
            </Button>
          </ui:items>
        </ui:AddItemsPlugin>
      </editor:plugins>
    </editor:ExtensionsMenuToolbar>

  </editor:rules>

</editor:StudioPlugin>
